---
title: Chat ttsAIè¯­éŸ³é¡¹ç›®-å‘å¸ƒåå¤©ç‹‚ç 20Kâ­ï¸!
cover: https://img.laogou717.com/file/ce9b9909ff9fe1d453b79.jpg
categories: AIçºªå…ƒ
tags:
  - chattts
  - GitHub
  - éƒ¨ç½²
date: 2024/06/6 05:00:00
color: '#fbbe11'
ai_text: >-
  GitHub ä¸Šçš„ ChatTTS é¡¹ç›®ç«çˆ†ï¼Œæ”¯æŒå¤šè¯´è¯äººè‡ªç„¶å¯¹è¯è¯­éŸ³åˆæˆï¼Œè·å¾— 20K starã€‚ ChatTTS èƒ½é¢„æµ‹å’Œæ§åˆ¶è¯­éŸ³ä¸­çš„ç¬‘å£°å’Œåœé¡¿ï¼Œè®©è¯­éŸ³æ›´åŠ ç”ŸåŠ¨è‡ªç„¶ï¼Œæ•ˆæœè¶…è¶Šå¤§å¤šæ•°å¼€æº TTS æ¨¡å‹ã€‚
  æœ¬æ–‡ä»‹ç»äº†åœ¨çº¿ä½“éªŒã€å¿«é€Ÿæœ¬åœ°éƒ¨ç½²ã€Docker éƒ¨ç½² ChatTTSï¼Œä»¥åŠé€šè¿‡ FastAPI æœ¬åœ°ç”ŸæˆéŸ³é¢‘çš„è¯¦ç»†æ­¥éª¤ã€‚
---
![](https://img.laogou717.com/file/d3aeab11e0f7a814593ad.jpg)
## å‰è¨€
> 
> ğŸ¤” æœ€è¿‘GitHubä¸Šä¸€ä¸ªå«åš[Chattts](https://github.com/2noise/ChatTTS)çš„è¶…é…·é¡¹ç›®éå¸¸ç«,çŸ­çŸ­åå¤©å°±åœ¨GitHubä¸Šæ”¶è·äº†**20Kçš„star**,ä»Šå¤©æˆ‘ä»¬å°±æ¥çœ‹çœ‹æ€ä¹ˆæ ·å»ä½¿ç”¨å®ƒå§ã€‚
## äº®ç‚¹

### å¯¹è¯è¯­éŸ³åˆæˆ
ChatTTS èƒ½æ”¯æŒå¤šè¯´è¯äººäº’åŠ¨å¯¹è¯ï¼Œæ•ˆæœéå¸¸è‡ªç„¶ï¼ŒåƒçœŸäººèŠå¤©ä¸€æ ·ã€‚è¿˜èƒ½é¢„æµ‹å’Œæ§åˆ¶è¯­éŸ³ä¸­çš„ç¬‘å£°ã€åœé¡¿ç­‰ç»†èŠ‚ï¼Œè®©è¯­éŸ³æ›´åŠ ç”ŸåŠ¨ã€‚
åœ¨è¯­è°ƒä¸Šï¼ŒChatTTS çœŸçš„è¶…è¶Šäº†å¤§å¤šæ•°å¼€æºçš„ TTS æ¨¡å‹ï¼Œå¬èµ·æ¥æ›´åŠ è‡ªç„¶å’Œæœ‰è¡¨ç°åŠ›ã€‚

## å¦‚ä½•å¿«é€Ÿå¼€å§‹ä½¿ç”¨

### åœ¨çº¿ä½“éªŒ
è®¿é—®[chattts.com](https://chattts.com)å³å¯è¿›è¡Œåœ¨çº¿æ“ä½œä½“éªŒã€‚
![](https://img.laogou717.com/file/f23cd0dd2f722edf047b5.png)
<iframe src="https://dzkaka-chattts.hf.space/" width="100%" height="600px"></iframe>

## æœ¬åœ°éƒ¨ç½²
è¯´å®è¯éå¸¸**ä¸æ¨è**åœ¨æœ¬åœ°éƒ¨ç½²,å› ä¸º**å¤ªtmå¡äº†**{% inline_img https://img.laogou717.com/file/818be20f77a753b2a9790.png '' 40px %} ä¸è¿‡å¦‚æœä½ æƒ³çš„è¯,å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤åœ¨æœ¬åœ°å®‰è£…å’Œè¿è¡ŒChatTTSã€‚


{% fold ç‚¹å‡»æŸ¥çœ‹éƒ¨ç½²æ•™ç¨‹ğŸ˜ %}

### æ­¥éª¤1ï¼šä»GitHubä¸‹è½½ä»£ç 

æ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å…‹éš†ChatTTSä»£ç åº“ï¼š

```sh
git clone https://github.com/2noise/ChatTTS
```

### æ­¥éª¤2ï¼šå®‰è£…ä¾èµ–é¡¹

ç¡®ä¿ä½ å·²ç»å®‰è£…äº†Pythonå’Œpipã€‚æ¥ç€è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…å¿…è¦çš„ä¾èµ–é¡¹ï¼š

```sh
pip install torch ChatTTS
```

### æ­¥éª¤3ï¼šå¯¼å…¥æ‰€éœ€çš„åº“

åœ¨ä½ çš„Pythonè„šæœ¬ä¸­å¯¼å…¥å¿…è¦çš„åº“ï¼š

```python
import torch
import ChatTTS
from IPython.display import Audio
```

### æ­¥éª¤4ï¼šåˆå§‹åŒ–ChatTTS

åˆ›å»ºä¸€ä¸ªChatTTSç±»çš„å®ä¾‹å¹¶åŠ è½½é¢„è®­ç»ƒçš„æ¨¡å‹ï¼š

```python
chat = ChatTTS.Chat()
chat.load_models()
```

### æ­¥éª¤5ï¼šå‡†å¤‡ä½ çš„æ–‡æœ¬

å®šä¹‰ä½ æƒ³è¦è½¬æ¢ä¸ºè¯­éŸ³çš„æ–‡æœ¬ï¼š

```python
texts = ["Hello, welcome to ChatTTS!"]
```

### æ­¥éª¤6ï¼šç”Ÿæˆè¯­éŸ³

ä½¿ç”¨inferæ–¹æ³•ä»æ–‡æœ¬ç”Ÿæˆè¯­éŸ³ã€‚è®¾ç½®use_decoder=Trueä»¥å¯ç”¨è§£ç å™¨ï¼š

```python
wavs = chat.infer(texts, use_decoder=True)
```

### æ­¥éª¤7ï¼šæ’­æ”¾éŸ³é¢‘

ä½¿ç”¨IPython.displayä¸­çš„Audioç±»æ’­æ”¾ç”Ÿæˆçš„éŸ³é¢‘ã€‚å°†é‡‡æ ·ç‡è®¾ç½®ä¸º24,000 Hzå¹¶å¯ç”¨è‡ªåŠ¨æ’­æ”¾ï¼š

```python
Audio(wavs[0], rate=24_000, autoplay=True)
```

{% endfold %}


## æœ¬åœ°ã€Dockeréƒ¨ç½²API
è¿™ä¸ªæ–¹æ³•æ¥æºäºâ€œhttps://github.com/ultrasev/ChatTTS â€ , æ”¯æŒdockerä¸€é”®éƒ¨ç½²æˆAPI,ç„¶åé€šè¿‡å…¶ä»–åº”ç”¨æˆ–è€…curlè°ƒç”¨ã€‚


{% fold ç‚¹å‡»æŸ¥çœ‹éƒ¨ç½²æ•™ç¨‹ğŸ˜ %}

### FastAPI æœåŠ¡æœ¬åœ°éƒ¨ç½²å’Œä½¿ç”¨æŒ‡å—

#### æœ¬åœ°éƒ¨ç½²

1. å®‰è£…ä¾èµ–ï¼š
```sh
pip3 install -r requirements.txt
```

2. å¯åŠ¨æœåŠ¡ï¼š
```sh
uvicorn main:app --host "0.0.0.0" --port 8000
```

#### ä½¿ç”¨ç¤ºä¾‹

å‘é€ POST è¯·æ±‚ï¼Œç”ŸæˆéŸ³é¢‘å¹¶ä¿å­˜åˆ°æœ¬åœ°ï¼š

```sh
curl -X POST -H 'content-type: application/json' -d \
'{"text":"æœ‹å‹ä½ å¥½å•Šï¼Œä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ", "output_path": "abc.wav", "seed":232}' \
http://localhost:8000/tts
```

å‚æ•°è¯´æ˜ï¼š
- `text`: è¦è½¬æ¢çš„æ–‡æœ¬
- `output_path`: éŸ³é¢‘ä¿å­˜è·¯å¾„
- `seed`: éŸ³è‰²ç§å­ï¼Œä¸åŒç§å­ä¼šäº§ç”Ÿä¸åŒéŸ³è‰²ï¼Œé»˜è®¤å€¼ä¸º697

#### Docker éƒ¨ç½²

è¿è¡Œ Docker å®¹å™¨ï¼š

```sh
docker run -d --name chattts -p8000:8000 -v /tmp/audio:/audio ghcr.io/ultrasev/chattts:latest
```

æ³¨æ„ï¼š
- `/tmp/audio` ä¸ºæœ¬åœ°éŸ³é¢‘æ–‡ä»¶å­˜å‚¨è·¯å¾„
- `/audio` ä¸ºå®¹å™¨å†…éŸ³é¢‘æ–‡ä»¶å­˜å‚¨è·¯å¾„

å‘é€ POST è¯·æ±‚ï¼Œç”ŸæˆéŸ³é¢‘å¹¶ä¿å­˜åˆ° Docker å®¹å™¨ä¸­ï¼š

```sh
curl -X POST -H 'content-type: application/json' -d \
'{"text":"æœ‹å‹ä½ å¥½å•Šï¼Œä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ", "output_path": "/audio/abc.wav", "seed":232}' \
http://localhost:8000/tts
```

{% endfold %}


## æ•´åˆåŒ…æ‰“å¼€å³ç”¨
é€›Bç«™æ—¶å‘ç°äº†ä¸€ä¸ªUPä¸»[å˜Ÿå˜Ÿå®éªŒå®¤](https://www.bilibili.com/video/BV1pM4m1z7h9)åšçš„æ•´åˆåŒ…,æ”¯æŒWinç³»ç»Ÿã€Macç³»ç»Ÿã€‚
![](https://img.laogou717.com/file/f45dd6af6fc696ed8560e.png)
{% link "åŸä½œè€…é“¾æ¥" "[è½¬å­˜é“¾æ¥](https://pan.baidu.com/s/1FihkQU3j8pRoo7eoq68zOA?pwd=6666)" https://pan.baidu.com/s/1t3XddrF8KBJ2dYqmwvqOQw?pwd=nmhx %}

## æœ€åå¨å¨
å¦‚æœä¸Šè¿°çš„ä¸€äº›ç¯èŠ‚å‡ºç°é—®é¢˜,å¯ä»¥é€‰æ‹©è¯¢é—®ChatGPTæ¥å¯»æ±‚å¸®åŠ©,æˆ–è€…ç›´æ¥ä½¿ç”¨åœ¨çº¿æ¼”ç¤ºç½‘ç«™ã€‚å‡è®¾ä½ ä¸çŸ¥é“æ€ä¹ˆä½¿ç”¨GPT4,å¯ä»¥è®¿é—®æˆ‘çš„ [AIå¯¼èˆªç½‘ç«™](https://nav.laogou717.com)ã€‚

## å¼•ç”¨é“¾æ¥
- https://github.com/2noise/ChatTTS
- https://github.com/ultrasev/ChatTTS
- [å˜Ÿå˜Ÿå®éªŒå®¤](https://www.bilibili.com/video/BV1pM4m1z7h9)